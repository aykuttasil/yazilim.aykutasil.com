<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Software</title>
    <link>http://yazilim.aykutasil.com/tags/android/index.xml</link>
    <description>Recent content on Software</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>tr-tr</language>
    <atom:link href="http://yazilim.aykutasil.com/tags/android/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Android Spinner Text GÃ¼ncelleme</title>
      <link>http://yazilim.aykutasil.com/2017/01/android-spinner-text-g%C3%BCncelleme/</link>
      <pubDate>Tue, 10 Jan 2017 23:00:03 +0300</pubDate>
      
      <guid>http://yazilim.aykutasil.com/2017/01/android-spinner-text-g%C3%BCncelleme/</guid>
      <description>

&lt;h2 id=&#34;dinamik-olarak-spinner-text-gÃ¼ncelleme&#34;&gt;Dinamik Olarak Spinner Text GÃ¼ncelleme&lt;/h2&gt;

&lt;p&gt;Android de Spinner yapÄ±sÄ± aÃ§Ä±lÄ±r menÃ¼ (dropdown) olarak kullanlan kullanÄ±ÅŸlÄ± bir componenttir.&lt;/p&gt;

&lt;p&gt;FarklÄ± ihtiyaÃ§larÄ±nÄ±z doÄŸrultusunda Spinner Ä±nÄ±zÄ±n elemanlarÄ±nÄ±n deÄŸerini deÄŸiÅŸtirmek isteyebilirsiniz.&lt;/p&gt;

&lt;p&gt;Ã–rneÄŸin bir ListView iniz var.Ve iÃ§erisinde aynÄ± kategoriden ama deÄŸiÅŸik durumlara sahip itemlar var ve siz bu itemlarÄ± durumuna gÃ¶re gruplandÄ±rÄ±p sayÄ±sÄ±nÄ± Spinner da gÃ¶stermek istiyorsunuz. Bunun iÃ§in aÅŸaÄŸÄ±da belirtecek olduÄŸum yapÄ±yÄ± kullanabilirsiniz.&lt;/p&gt;

&lt;p&gt;Ã–ncellikle String.xml dosyasÄ±na Spinner Ä±mÄ±zda gÃ¶stereceÄŸimiz elemanlarÄ± tanÄ±mlÄ±yoruz.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;String.xml&lt;/strong&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;string name=&amp;quot;pazartesi&amp;quot;&amp;gt;Pazartesi&amp;lt;/string&amp;gt;
&amp;lt;string name=&amp;quot;sali&amp;quot;&amp;gt;SalÄ±&amp;lt;/string&amp;gt;
&amp;lt;string name=&amp;quot;carsamba&amp;quot;&amp;gt;Ã‡arÅŸamba&amp;lt;/string&amp;gt;
&amp;lt;string name=&amp;quot;persembe&amp;quot;&amp;gt;PerÅŸembe&amp;lt;/string&amp;gt;
&amp;lt;string name=&amp;quot;cuma&amp;quot;&amp;gt;Cuma&amp;lt;/string&amp;gt;
&amp;lt;string name=&amp;quot;cumartesi&amp;quot;&amp;gt;Cumartesi&amp;lt;/string&amp;gt;
&amp;lt;string name=&amp;quot;pazar&amp;quot;&amp;gt;Pazar&amp;lt;/string&amp;gt;


&amp;lt;string-array name=&amp;quot;array_gonderi_list_haftalik&amp;quot;&amp;gt;
    &amp;lt;item&amp;gt;@string/pazartesi&amp;lt;/item&amp;gt;
    &amp;lt;item&amp;gt;@string/sali&amp;lt;/item&amp;gt;
    &amp;lt;item&amp;gt;@string/carsamba&amp;lt;/item&amp;gt;
    &amp;lt;item&amp;gt;@string/persembe&amp;lt;/item&amp;gt;
    &amp;lt;item&amp;gt;@string/cuma&amp;lt;/item&amp;gt;
    &amp;lt;item&amp;gt;@string/cumartesi&amp;lt;/item&amp;gt;
    &amp;lt;item&amp;gt;@string/pazar&amp;lt;/item&amp;gt;
&amp;lt;/string-array&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;strong&gt;SpinnerHelper.java&lt;/strong&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;public static String[] getChangedSpinnerItemText(Context context) {
    String[] originalList = context.getResources().getStringArray(R.array.array_gonderi_list_haftalik);

    Resources resources = context.getResources();
    for (int a = 0; a &amp;lt; originalList.length; a++) {
        int count = 0;
        if (originalList[a].equals(resources.getString(R.string.pazartesi))) {
            count = 2;
            originalList[a] += &amp;quot; ( &amp;quot; + count + &amp;quot; )&amp;quot;;
        } else if (originalList[a].equals(resources.getString(R.string.sali))) {
            count = 4;
            originalList[a] += &amp;quot; ( &amp;quot; + count + &amp;quot; )&amp;quot;;
        } else if (originalList[a].equals(resources.getString(R.string.carsamba))) {
            count = 7;
            originalList[a] += &amp;quot; ( &amp;quot; + count + &amp;quot; )&amp;quot;;
        } else {
            count = 8
            originalList[a] += &amp;quot; ( &amp;quot; + count + &amp;quot; )&amp;quot;;
        }
    }
    return originalList;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Daha sonra spinnerÄ±mÄ±zÄ± tanÄ±mladÄ±ÄŸÄ±mÄ±z yere giderek spinnerÄ±mÄ±zÄ± yapÄ±landÄ±rÄ±yoruz.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;FragmentX.java&lt;/strong&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;public void setSpinnerNavToolbar() {

 // Guncelledikten sonra spinner gÃ¶rÃ¼nÃ¼mÃ¼ Ã¶rneÄŸi
 // Pazartesi ( 2 )
 // SalÄ± ( 4 )
 // ... 
 
 // Spinner itemlarÄ±nÄ±n gÃ¼ncellenmiÅŸ halini barÄ±ndÄ±ran listeyi getiriyoruz.
 String[] changedList = getChangedSpinnerItemText(context);

 // Spinner adapterÄ±mÄ±za eklemeler yapÄ±lmÄ±ÅŸ String Arrayi veriyoruz.
 ArrayAdapter&amp;lt;CharSequence&amp;gt; adapter = new ArrayAdapter&amp;lt;CharSequence&amp;gt;(mContext, R.layout.spinner_nav_item_layout,changedList);
 Spinner spinner = (Spinner) findViewById(R.id.spinner_nav);
 spiner.setAdapter(adapter);
 spinner.setVisibility(NavigationView.VISIBLE);
 spinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {
 @Override
 public void onItemSelected(AdapterView&amp;lt;?&amp;gt; parent, View view, int position, long id) {

 // Original Liste elemanlarÄ±mÄ±zÄ± getiriyoruz 
 String[] originalList = context.getResources().getStringArray(R.array.array_gonderi_list_haftalik);
 
 // Original Liste elemanÄ±nÄ± baz alarak iÅŸlem yapmak 
 // Bu sayede Pazartesi , SalÄ± gibi deÄŸerleri alÄ±yoruz. DeÄŸiÅŸtirilmiÅŸ (gÃ¼ncellenmiÅŸ) deÄŸerleri sadece gÃ¶rÃ¼nÃ¼m iÃ§in kullanÄ±yoruz.
 String secilendeger = originalList[position];


 // Pazartesi seÃ§ildiÄŸinde yapmak istediÄŸimiz iÅŸlemleri burada belirtebiliriz.
 if (secilendeger.equals(getResources().getString(R.string.pazartesi))) {

 } 
 // SalÄ± seÃ§ildiÄŸinde yapmak istediÄŸimiz iÅŸlemleri burada belirtebiliriz.
 else if(secilendeger.equals(getResources().getString(R.string.pazartesi)))
 {

 }
 }

 @DebugLog
 @Override
 public void onNothingSelected(AdapterView&amp;lt;?&amp;gt; parent) {

 }
 });
}
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Android ile WebView EtkileÅŸimi</title>
      <link>http://yazilim.aykutasil.com/2016/12/android-ile-webview-etkile%C5%9Fimi/</link>
      <pubDate>Sun, 25 Dec 2016 00:28:10 +0300</pubDate>
      
      <guid>http://yazilim.aykutasil.com/2016/12/android-ile-webview-etkile%C5%9Fimi/</guid>
      <description>

&lt;p&gt;KÄ±sa Hikaye : ÃœstÃ¼nde Ã§alÄ±ÅŸmakta olduÄŸum bir projede kredi kartÄ± ile Ã¶deme yapÄ±sÄ± kurmam gerekti. KÄ±saca projenin yapÄ±sÄ±ndan bahsedecek olursak&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Backend : .Net&lt;/li&gt;
&lt;li&gt;Client : Android (Java)&lt;/li&gt;
&lt;li&gt;Ã–deme altyapÄ±sÄ± : Ä°yzico&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Client tarafÄ±nda rest isteÄŸiyle tÃ¼m iÅŸlemlerimizi backend tarafÄ±nda yapÄ±yoruz. Ã–deme yapÄ±mÄ±zÄ± da bu doÄŸrultuda geliÅŸtirdik.&lt;/p&gt;

&lt;p&gt;Problem : 3DS ile Ã¶deme almaya Ã§alÄ±ÅŸtÄ±ÄŸÄ±mÄ±zda malumunuz iÅŸin iÃ§erisine bankanÄ±n bize telefonumuza gelen ÅŸifreyi girmemiz iÃ§in gÃ¶ndermiÅŸ olduÄŸu web sayfasÄ± vs. giriyor. Bu durumda client ile web sayfasÄ± iletiÅŸimini de bir ÅŸekilde saÄŸlamamÄ±z gerekiyor.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;YukarÄ±da ki hikayeyi anlatarak kafanÄ±zda bir problemi canlandÄ±rmaya Ã§alÄ±ÅŸtÄ±m. Benzer bir Ã§ok durum ile karÅŸÄ± karÅŸÄ±ya kalabilirsiniz.&lt;/p&gt;

&lt;p&gt;Ulan ben webview de ki butonu vs nasÄ±l android tarafÄ±nda kontrol edicem ? gibi akÄ±lda deli sorular oluÅŸabilir..&lt;/p&gt;

&lt;p&gt;Tabiri caiz ise : PhoneGap tarzÄ± biÅŸiler.. ğŸ™‚ ğŸ˜‰&lt;/p&gt;

&lt;p&gt;Neyse.&lt;/p&gt;

&lt;p&gt;Ã–rnek ver hacÄ± abi;&lt;/p&gt;

&lt;h2 id=&#34;layout-xml&#34;&gt;Layout.xml&lt;/h2&gt;

&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;utf-8&amp;quot;?&amp;gt;
&amp;lt;LinearLayout xmlns:android=&amp;quot;http://schemas.android.com/apk/res/android&amp;quot;
    android:layout_width=&amp;quot;match_parent&amp;quot;
    android:layout_height=&amp;quot;match_parent&amp;quot;
    android:orientation=&amp;quot;vertical&amp;quot;&amp;gt;

    &amp;lt;WebView
        android:id=&amp;quot;@+id/WebView&amp;quot;
        android:layout_width=&amp;quot;match_parent&amp;quot;
        android:layout_height=&amp;quot;match_parent&amp;quot; /&amp;gt;

&amp;lt;/LinearLayout&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;activity-fragment&#34;&gt;Activity â€“ Fragment&lt;/h2&gt;

&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;WebView webView = (WebView) findViewById(R.id.WebView);

WebSettings settings = webView.getSettings();
settings.setDefaultTextEncodingName(&amp;quot;utf-8&amp;quot;);
settings.setJavaScriptEnabled(true);

webView.setWebViewClient(new MyWebViewClient());
webView.addJavascriptInterface(new MyWebViewJavascriptInterface(mContext, webView, callbackDialog), &amp;quot;Android&amp;quot;); // Buraya dikkat
webView.loadDataWithBaseURL(null, response.getData().getThreeDSHtmlContent(), &amp;quot;text/html&amp;quot;, &amp;quot;utf-8&amp;quot;, null); // elimizde bulunan bir html dÃ¶kÃ¼manÄ± webview e basÄ±yoruz. URL de verebilirsin istersen
webView.addJavascriptInterface(new MyWebViewJavascriptInterface(mContext, webView, callbackDialog), &amp;quot;Android&amp;quot;);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;YukarÄ±da ki â€œAndroidâ€ kÄ±smÄ±na istediÄŸimiz ismi verebiliriz. WebView yapÄ±sÄ±, burada belirtmiÅŸ olduÄŸumuz isim ile sayfaya yÃ¼klenen iÃ§eriÄŸe bir eklenti yapÄ±yor, yani bir instance alÄ±yor. Biz bu instance Ä± kullanarak iletiÅŸimimizi saÄŸlÄ±yoruz.&lt;/p&gt;

&lt;p&gt;Az sabÄ±r. NasÄ±l olduÄŸunu gÃ¶rÃ¼ceksin..&lt;/p&gt;

&lt;h2 id=&#34;mywebviewclient&#34;&gt;MyWebViewClient&lt;/h2&gt;

&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;class MyWebViewClient extends WebViewClient {

    @Override
    public void onPageFinished(WebView view, String url) {
        super.onPageFinished(view, url);
        //view.loadUrl(&amp;quot;javascript:window.Android.processHTML(&#39;&amp;lt;html&amp;gt;&#39;+document.getElementsByTagName(&#39;html&#39;)[0].innerHTML+&#39;&amp;lt;/html&amp;gt;&#39;);&amp;quot;);
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Bu blok ne yapÄ±yor ?&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;window.Android.processHTML&lt;/strong&gt; de ki Android bizim yukarÄ±da belirtmiÅŸ olduÄŸumuz aracÄ±.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;processHtml&lt;/strong&gt; ise aÅŸaÄŸÄ±da tanÄ±mlÄ±cak olduÄŸumuz fonksiyon.&lt;/p&gt;

&lt;p&gt;DiÄŸer kÄ±sÄ±mlar javascript fonksiyonu zaten. Yani sayfada ki ilk html tag Ä±nÄ± bularak iÃ§indeki html kodu al.&lt;/p&gt;

&lt;p&gt;AÅŸaÄŸÄ±da ki processHtml e bakarsan gÃ¶rÃ¼ceksin ki htmlContent parametresi bekliyor.Biz de bu parametreye sayfa iÃ§eriÄŸinin html kodunu gÃ¶nderiyoruz. AlmÄ±ÅŸ olduÄŸun bu html iÃ§eriÄŸiyle ne yaparsÄ±n sana kalmÄ±ÅŸ.&lt;/p&gt;

&lt;h2 id=&#34;mywebviewjavascriptinterface&#34;&gt;MyWebViewJavascriptInterface&lt;/h2&gt;

&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;class MyWebViewJavascriptInterface {

    Context mContext;
    WebView mWebView;

    MyWebViewJavascriptInterface(Context c, WebView webView) {
        this.mContext = c;
        this.mWebView = webView;
    }

    @JavascriptInterface
    public void processHTML(String htmlContent) {
        // iÅŸlem
        // Toast ile html iÃ§eriÄŸini gÃ¶sterebiliriz       
    }

    @JavascriptInterface
    public void islemeDevamEt() {
       // iÅŸlem
    }

    @JavascriptInterface
    public void pencereyiKapat() {
        // iÅŸlem
        // dialog.dismiss();
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;WebView miz ile Android native kodumuzun iletiÅŸimini bu sÄ±nÄ±f saÄŸlÄ±yor.&lt;/p&gt;

&lt;p&gt;AÅŸÅŸaÄŸÄ±da ki  kod ile bunu sÃ¶ylÃ¼yoruz.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;em&gt;webView.addJavascriptInterface(new MyWebViewJavascriptInterface(mContext, webView), &amp;ldquo;Android&amp;rdquo;);&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;em&gt;Not&lt;/em&gt;&lt;/strong&gt; : Android 4.2 den sonra &lt;strong&gt;@JavascriptInterface&lt;/strong&gt; annotations Ä±nÄ± eklememiz gerekmekte. Yoksa nolur ? Ã‡alÄ±ÅŸmaz ğŸ˜‰&lt;/p&gt;

&lt;h2 id=&#34;custom-html-content&#34;&gt;Custom Html Content&lt;/h2&gt;

&lt;p&gt;WebView de gÃ¶sterdiÄŸimiz html contentinde bir buton ekleyelim.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt; &amp;lt;button class=&amp;quot;btn btn-danger&amp;quot; onclick=&amp;quot;PencereyiKapat()&amp;quot;&amp;gt;Pencereyi Kapat&amp;lt;/button&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;WebView iÃ§inde ki bu butona basÄ±ldÄ±ÄŸÄ±nÄ± Android anlasÄ±n ve (WebView imizi Dialog iÃ§erisinde gÃ¶sterildiÄŸini varsayarak) dialog penceresini kapasÄ±n.&lt;/p&gt;

&lt;p&gt;Butonumuzun olduÄŸu sayfaya  javascript kodumuzu ekliyoruz.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;&amp;lt;script type=&amp;quot;text/javascript&amp;quot;&amp;gt;
  function PencereyiKapat() {
     Android.pencereyiKapat();
  }
&amp;lt;/script&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;YukarÄ±da ki Android i hatÄ±rladÄ±nÄ±z dimi ? ğŸ™‚&lt;/p&gt;

&lt;p&gt;HTML sayfamÄ±z bu kadar.&lt;/p&gt;

&lt;p&gt;WebView iÃ§erisinde ki butona basÄ±ldÄ±ÄŸÄ±nda javascript fonksiyonu Ã§alÄ±ÅŸacak ve Android.pencereyiKapat() Ã§alÄ±ÅŸacak. Yani native tarafta tanÄ±mlamÄ±ÅŸ olduÄŸumuz pencereyiKapat() fonksiyonu.&lt;/p&gt;

&lt;p&gt;YukarÄ±da ki yapÄ±yÄ± kullanarak WebView â€“ Android Native etkileÅŸimli yapÄ± kurabilirsin.&lt;/p&gt;

&lt;p&gt;Her zaman ki gibi hayal gÃ¼cÃ¼ne ve projeye kalmÄ±ÅŸ ğŸ˜‰&lt;/p&gt;

&lt;p&gt;KalÄ±n saÄŸlÄ±cakla..&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>GcmNetworkManager KullanÄ±mÄ±</title>
      <link>http://yazilim.aykutasil.com/2016/12/gcmnetworkmanager-kullan%C4%B1m%C4%B1/</link>
      <pubDate>Fri, 23 Dec 2016 18:04:15 +0300</pubDate>
      
      <guid>http://yazilim.aykutasil.com/2016/12/gcmnetworkmanager-kullan%C4%B1m%C4%B1/</guid>
      <description>&lt;p&gt;GcmNetworkManager kullanarakÂ Android de network tabanlÄ± iÅŸlemlerinizi olabildiÄŸince kontrollÃ¼ bir ÅŸekide yapabilirsiniz.&lt;/p&gt;

&lt;p&gt;GcmNetworkManager Ä±n kullanÄ±m alanÄ± daha Ã§ok asenkron ve periodic network iÅŸlemlerinizi yapÄ±landÄ±rmaktÄ±r.&lt;/p&gt;

&lt;p&gt;Tek sefer Ã§alÄ±ÅŸacak veya Periodic olarak Ã§alÄ±ÅŸacak iÅŸlemleriniz iÃ§in 2 tip belirlenmiÅŸtir.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;OneoffTask&lt;/li&gt;
&lt;li&gt;PeriodicTask&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;OneoffTask KullanÄ±mÄ±&lt;/strong&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;OneoffTask oneoff = new OneoffTask.Builder()
        // UygulamanÄ±zÄ± kapatsanÄ±z bile tekrar aÃ§tÄ±ÄŸÄ±nÄ±z da network iÅŸleminiz iÅŸleme konulur.
        // Yani isteÄŸinizin kalÄ±cÄ± olup olmamasÄ±nÄ± bu parametre ile ayarlayabilirsiniz.
        .setPersisted(true)
        // Belirtilen network iÅŸlemlerinin Ã§alÄ±ÅŸacaÄŸÄ± service i belirtir.
        .setService(MyGcmTaskService.class)
        // Ä°ÅŸleminiz iÃ§in tag belirleyebilirsiniz.
        // AynÄ± tag ile yeni bir istek yaptÄ±ÄŸÄ±nÄ±z da &#39;.setUpdateCurrent(true)&#39; olarak belirlenmiÅŸ ise isteÄŸinizi yeni istek ile gÃ¼nceller. Yani eski isteÄŸiniz geÃ§ersiz olacaktÄ±r. &#39;setUpdateCurrent(false)&#39; olarak belirlenir ise aynÄ± tag ile yeni istekte bulunsanÄ±z bile her iki isteÄŸiniz de Ã§alÄ±ÅŸacaktÄ±r. 
        .setTag(tag)
        // Network isteÄŸinizin Ã§alÄ±ÅŸma zamanÄ± parametrelerini belirler
        .setExecutionWindow(0, 10)
        // Ä°ÅŸleminiz iÃ§in internet gerekliliÄŸi veya wireless gerekliliÄŸi parametrelerini belirler
        .setRequiredNetwork(required_network_state)
        // Ä°ÅŸleminiz iÃ§in cihazÄ±n ÅŸarja baÄŸlÄ± olup olmamasÄ± gerekliliÄŸini belirler
        .setRequiresCharging(false)
        // AynÄ± tag ile yeni istek yapÄ±ldÄ±ÄŸÄ± takdirde gÃ¼ncellenip gÃ¼ncellenmemesi durumunu belirler
        .setUpdateCurrent(true)
        // Bundle ile iÅŸleminiz iÃ§in gerekli parametreleri belirleyebilirsiniz
        .setExtras(bundle)
        // build eder
        .build();

GcmNetworkManager.getInstance(context).schedule(oneoff);
&lt;/code&gt;&lt;/pre&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;MyGcmTaskService&lt;/strong&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;// CihazÄ±nÄ±zÄ± yeniden baÅŸlatma gibi durumlar da Ã¶nceden belirlenmiÅŸ task lerinizin Ã§alÄ±ÅŸmasÄ±nÄ± devam ettirmesini istiyorsanÄ±z
// burada tekrar belirlemelisiniz.
@Override
public void onInitializeTasks() {
    
}

// GcmNetworkManager Ä±n kendi algoritmasÄ± ile seÃ§ilen, tanÄ±mlamÄ±ÅŸ olduÄŸunuz istek bu kod bloÄŸuna girecek.
@Override
public int onRunTask(TaskParams taskParams) {
    try {
        Bundle bundle = taskParams.getExtras();
        return SchedulerRandevuTask(bundle);        
    } catch (Exception e) {
        ErrorEvent errorEvent = new ErrorEvent();
        errorEvent.setErrorContent(e.getMessage());
        EventBus.getDefault().post(errorEvent);
        return GcmNetworkManager.RESULT_RESCHEDULE;
    }
}

private int SchedulerZiyaretTask(Bundle bundle) {
    try {
        // isteÄŸimiz sÄ±rasÄ±nda bundle olarak yÃ¼klemiÅŸ olduÄŸumuz nesneyi burada yakalÄ±yoruz
        String jsonModel = bundle.getString(Const.IZTOP_TASK_BUNDLE);
        ZiyaretRequest request = new Gson().fromJson(jsonModel, ZiyaretRequest.class);
        ZiyaretResponse ziyaretResponse = sendZiyaretProcess(request);
        switch (ziyaretResponse.getCode()) {
            case 0: {
                EventBus.getDefault().post(ziyaretResponse);                
                // iÅŸlemlerimiz baÅŸarÄ±lÄ± bir ÅŸekilde gerÃ§ekleÅŸmiÅŸ ise result deÄŸeri olarak RESULT_SUCCESS dÃ¶nÃ¼yoruz.
                // GcmNetworkManager bu iÅŸlemi baÅŸarÄ±lÄ± olduÄŸu iÃ§in listeden silecek ve tekrar Ã§alÄ±ÅŸtÄ±rmayÄ± denemicektir.
                return GcmNetworkManager.RESULT_SUCCESS;
            }
            default: {
                // iÅŸlemlerimiz baÅŸarÄ±sÄ±z olmasÄ± durumunda ( burada sunucuya istekte bulunulmuÅŸ ve dÃ¶nen deÄŸer 0 deÄŸil ise baÅŸarÄ±sÄ±z olarak belirlenmiÅŸtir )isteÄŸin tekrar Ã§alÄ±ÅŸmasÄ± iÃ§in result deÄŸeri olarak RESULT_RESCHEDULE dÃ¶nÃ¼yoruz.
                return GcmNetworkManager.RESULT_RESCHEDULE;
            }
        }
    } catch (Exception e) {
        SuperHelper.CrashlyticsLog(e);
        e.printStackTrace();
        return GcmNetworkManager.RESULT_RESCHEDULE;
    }


}
private ZiyaretResponse sendZiyaretProcess(ZiyaretRequest request) {
    return ApiManager.getInstance(getApplicationContext()).Ziyaret(request);
}

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;strong&gt;ApiManager / Ziyaret&lt;/strong&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;public ZiyaretResponse Ziyaret(ZiyaretRequest request) {
    try {
        RestClient restClient = RestClient.getInstance();
        Call&amp;lt;ZiyaretResponse&amp;gt; responseCall = restClient.getApiService().Ziyaret(request);
        ZiyaretResponse ziyaretResponse = responseCall.execute().body();
        return ziyaretResponse;
    } catch (Exception ex) {
        return null;
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;strong&gt;Retrofit ApiService&lt;/strong&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;@POST(&amp;quot;sunucu/ziyaret/api/adresi&amp;quot;)
Call&amp;lt;ZiyaretResponse&amp;gt; Ziyaret(@Body ZiyaretRequest ziyaretRequest);&amp;lt;/pre&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;hr /&gt;
</description>
    </item>
    
  </channel>
</rss>